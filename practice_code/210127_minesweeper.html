<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>지뢰찾기</title>
    <style>
      td {
        border: 1px solid black;
        width: 20px;
        height: 20px;
      }
    </style>
  </head>
  <body>
    <input type="number" id="hor" placeholder="가로" value="10" />
    <input type="number" id="ver" placeholder="세로" value="10" />
    <input type="number" id="mine" placeholder="지뢰" value="20" />
    <button id="exec">실행</button>
    <table>
      <thead>
        <tr>
          <td><span id="timer">0</span>초</td>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <div id="result"></div>
    <script>
      // 실행 버튼 클릭 시, 클릭리스너
      document.querySelector("#exec").addEventListener("click", function () {
        var hor = parseInt(document.querySelector("#hor").value);
        var ver = parseInt(document.querySelector("#ver").value);
        var mine = parseInt(document.querySelector("#mine").value);
        console.log(hor, ver, mine);

        //지뢰배열
        var candidate = Array(hor * ver)
          .fill()
          .map(function (item, index) {
            return (index += 1);
          });
        var shuffle = [];
        for (var a = candidate.length; a > 80; ) {
          var spliceArray = candidate.splice(
            Math.floor(Math.random() * candidate.length)
          )[0];
          shuffle.push(spliceArray);
        }
        console.log(shuffle);
        //2차원 배열
        //입력 받은 hor, ver 값에 따라 동적으로 tr, td 생성하기
        var dataset = [];
        var tbody = document.querySelector("#table tbody");
        for (var i = 0; i < ver; i += 1) {
          var arr = [];
          var tr = document.createElement("tr");
          dataset.push(arr);
          for (var j = 0; j < hor; j += 1) {
            arr.push(1);
            var td = document.createElement("td");
            tr.appendChild(td);
          }
          // tbody.appendChild(tr);
        }
        console.log(dataset);
      });
    </script>
  </body>
</html>
